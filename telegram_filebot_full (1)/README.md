# Telegram FileBot

## ๐พ ูุตุจ ู ุงุฌุฑุง ูพุฑูฺู

### ุงุฌุฑุง ูุญู
```bash
pip install -r requirements.txt
uvicorn app.main:app --reload
python app/bot.py
```

ูุชุบุฑูุง ูุญุท ููู:
- `BOT_TOKEN`: ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู
- `API_BASE_URL`: ุขุฏุฑุณ API ุจฺฉโุงูุฏ ุจุฑุง ุฑุจุงุช
- `DOWNLOAD_DOMAIN`: ุฏุงูููโุง ฺฉู ุจู ฺฉุงุฑุจุฑ ุจุฑุง ุฏุงูููุฏ ูุดุงู ุฏุงุฏู ูโุดูุฏ
- `SUBSCRIPTION_REMINDER_DAYS`: ุชุนุฏุงุฏ ุฑูุฒูุง ูุงูุฏู ุจู ุงููุถุง ุงุดุชุฑุงฺฉ ฺฉู ุงุฏุขูุฑ ุงุฑุณุงู ูโุดูุฏ

### ุงุฌุฑุง ุจุง Docker
```bash
docker-compose up --build
```

## ๐ ุงุญุฑุงุฒ ููุช ุงุฏูู
ููู routeูุง `/admin/` ูุงุฒููุฏ header ุฒุฑ ูุณุชูุฏ:
```
X-Admin-Token: SuperSecretAdminToken123
```

## ๐ฆ ุณุงุฎุชุงุฑ
- `app/main.py`: ุงุฌุฑุง FastAPI
- `app/bot.py`: ุงุฌุฑุง ุฑุจุงุช ุชูฺฏุฑุงู
- `app/services/cleanup.py`: ูพุงฺฉโุณุงุฒ ูุงูโูุง ูููุถ
- `app/services/subscription_reminder.py`: ุงุฑุณุงู ุงุฏุขูุฑ ุงุชูุงู ุงุดุชุฑุงฺฉ
  (ูุงุจู ุงุฌุฑุง ุจู ุตูุฑุช ุฏูุฑูโุง ุจุฑุง ุงุทูุงุนโุฑุณุงู ุจู ฺฉุงุฑุจุฑุงู)

## ๐ ุงูุฏูพููุชโูุง ุฌุฏุฏ
- `POST /file/upload` ุจุงุฑฺฏุฐุงุฑ ูุชุงุฏุชุง ูุงู. ูุงุฒููุฏ ูุฏุฑ `X-User-Id`.
- `POST /file/upload_link` ุฏุงูููุฏ ูุงู ุงุฒ ููฺฉ ู ุซุจุช ุขู.
- `GET /file/list` ุฏุฑุงูุช ูุณุช ูุงูโูุง ฺฉุงุฑุจุฑ.
- `DELETE /file/delete/{file_id}` ุญุฐู ูุงู ูุชุนูู ุจู ฺฉุงุฑุจุฑ.
- `POST /file/regenerate/{file_id}` ุชููุฏ ููฺฉ ุฏุงูููุฏ ุฌุฏุฏ ุจุฑุง ูุงู.
- `POST /admin/user/block/{user_id}` ูุณุฏูุฏ ฺฉุฑุฏู ฺฉุงุฑุจุฑ
- `POST /admin/user/unblock/{user_id}` ุฑูุน ูุณุฏูุฏ ฺฉุงุฑุจุฑ
- `GET /admin/users` ููุฑุณุช ฺฉุงุฑุจุฑุงู ุจุง ุงูฺฉุงู ุฌุณุชุฌู
- `GET /admin/files` ููุฑุณุช ูุงูโูุง ุจุง ุงูฺฉุงู ุฌุณุชุฌู

## ๐ค ุฏุณุชูุฑุงุช ุฑุจุงุช
- `/files` ููุงุด ูุณุช ูุงูโูุง ุดูุง
- `/delete <file_id>` ุญุฐู ูุงู ุจุง ุดูุงุณู ุฏุงุฏู ุดุฏู
- `/uploadlink <URL>` ุฏุงูููุฏ ูุงู ุงุฒ ููฺฉ
- `/mysub` ููุงุด ุงุทูุงุนุงุช ุงุดุชุฑุงฺฉ ุดูุง
- `/myid` ุฏุฑุงูุช ุขุฏ ุนุฏุฏ ุดูุง
- `/pausebot` ุชููู ูููุช ุฑุจุงุช (ุงุฏูู)
- `/resumebot` ุงุฏุงูู ฺฉุงุฑ ุฑุจุงุช (ุงุฏูู)
- `/broadcast <msg>` ุงุฑุณุงู ูพุงู ููฺฏุงู (ุงุฏูู)
- `/cancelall` ูุบู ุชูุงู ูพุฑุฏุงุฒุดโูุง (ุงุฏูู)
- `/admin` ููุงุด ูพูู ูุฏุฑุช ุจุง ุฏฺฉููโูุง ุดุดูโุง (ุงุฏูู)
ููฺูู ุจุง ุฏฺฉููโูุง ุดุดูโุง ูโุชูุงูุฏ ููฺฉ ุฌุฏุฏ ุจุณุงุฒุฏ ุง ูุงู ุฑุง ุญุฐู ฺฉูุฏ.

## ๐งช ุชุณุชโูุง
ุจู ุฒูุฏ ุงุถุงูู ูโุดูุฏ...
